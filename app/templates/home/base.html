<!DOCTYPE html>
<html lang="en">

<head>

  <style>
    .main {

      width: 900px;
      margin: 0 auto;
      overflow: hidden;
    }
  </style>

  <meta charset="UTF-8">
  <title>{% block title %}{% endblock %}-抖音</title>
  <!-- Staticfile CDN 上的库 -->
  <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  {% block head %} {% endblock %}
</head>

<body>
  <nav class="navbar navbar-inverse">
    <div class="container">
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="{{ url_for('home.next_video') }}">每日推荐</a></li>
          <li><a href="{{ url_for('home.index') }}">视频广场</a></li>
          <li><a href="{{ url_for('home.video_square') }}">我的关心</a></li>
          <li><a href="{{ url_for('home.my_video_make') }}">发布视频</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          {% if user %}
          <li><a href="#">{{ user.user_name }}</a></li>
          <li><a href="{{ url_for('home.homepage') }}">个人主页</a></li>
          <li><a href="{{ url_for('home.logout') }}">退出登录</a></li>

          {% else %}
          <li><a href="{{ url_for('home.login') }}">登录</a></li>
          <li><a href="{{ url_for('home.regist') }}">注册</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
  <div class="main">
    {% block main %} {% endblock %}
  </div>

  <script>
    $(document).ready(function () {
      // each 是 为每一个匹配的元素 执行定义的方法
      $("#bs-example-navbar-collapse-1").find("li").each(function () {
        var a = $(this).find("a:first")[0];
        // location.pathname 获取 当前浏览器上的url 地址
        if ($(a).attr("href") === location.pathname) {
          $(this).addClass("active");
        } else {
          $(this).removeClass("active");
        }
      });

    });
  </script>
</body>

</html>